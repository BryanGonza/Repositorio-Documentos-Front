<div class="mb-12 grid gap-y-10 gap-x-6 md:grid-cols-2 xl:grid-cols-4">
  <!-- Total de Documentos -->
  <div class="relative flex flex-col bg-clip-border rounded-xl bg-white text-gray-700 shadow-md">
    <div class="bg-clip-border mx-4 rounded-xl overflow-hidden bg-gradient-to-tr from-yellow-500 to-yellow-400 text-white shadow-yellow-500/40 shadow-lg absolute -mt-4 grid h-16 w-16 place-items-center">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" class="w-6 h-6 text-white">
        <path d="M4 3.5A1.5 1.5 0 015.5 2h13a1.5 1.5 0 011.5 1.5v17a1.5 1.5 0 01-1.5 1.5h-13A1.5 1.5 0 014 20.5v-17zM6 4v16h12V4H6z"></path>
      </svg>
    </div>
    <div class="p-4 text-right">
      <p class="block antialiased font-sans text-sm leading-normal font-normal text-blue-600">Total de Documentos</p>
      <h4 class="block antialiased tracking-normal font-sans text-2xl font-semibold leading-snug text-blue-900">1,250</h4>
    </div>
    <div class="border-t border-blue-50 p-4">
      <p class="block antialiased font-sans text-base leading-relaxed font-normal text-blue-600">
        <strong class="text-green-500">+5%</strong>&nbsp;desde el mes pasado
      </p>
    </div>
  </div>

  <!-- Documentos Subidos Hoy -->
  <div class="relative flex flex-col bg-clip-border rounded-xl bg-white text-gray-700 shadow-md">
    <div class="bg-clip-border mx-4 rounded-xl overflow-hidden bg-gradient-to-tr from-blue-600 to-blue-400 text-white shadow-blue-500/40 shadow-lg absolute -mt-4 grid h-16 w-16 place-items-center">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" class="w-6 h-6 text-white">
        <path d="M12 2a1 1 0 01.894.553l5 10A1 1 0 0117 14H7a1 1 0 01-.894-1.447l5-10A1 1 0 0112 2zm0 2.618L8.618 12h6.764L12 4.618zM5 16h14v2H5v-2z"></path>
      </svg>
    </div>
    <div class="p-4 text-right">
      <p class="block antialiased font-sans text-sm leading-normal font-normal text-blue-600">Documentos Hoy</p>
      <h4 class="block antialiased tracking-normal font-sans text-2xl font-semibold leading-snug text-blue-900">38</h4>
    </div>
    <div class="border-t border-blue-50 p-4">
      <p class="block antialiased font-sans text-base leading-relaxed font-normal text-blue-600">
        <strong class="text-green-500">+12%</strong>&nbsp;respecto a ayer
      </p>
    </div>
  </div>

  <!-- Usuarios Activos -->
  <div class="relative flex flex-col bg-clip-border rounded-xl bg-white text-gray-700 shadow-md">
    <div class="bg-clip-border mx-4 rounded-xl overflow-hidden bg-gradient-to-tr from-blue-700 to-blue-500 text-white shadow-blue-700/40 shadow-lg absolute -mt-4 grid h-16 w-16 place-items-center">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" class="w-6 h-6 text-white">
        <path d="M16 14c2.21 0 4 1.79 4 4v3h-2v-3c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v3H4v-3c0-2.21 1.79-4 4-4h8zm-4-2c1.66 0 3-1.34 3-3S13.66 6 12 6 9 7.34 9 9s1.34 3 3 3z"></path>
      </svg>
    </div>
    <div class="p-4 text-right">
      <p class="block antialiased font-sans text-sm leading-normal font-normal text-blue-600">Usuarios Activos</p>
      <h4 class="block antialiased tracking-normal font-sans text-2xl font-semibold leading-snug text-blue-900">845</h4>
    </div>
    <div class="border-t border-blue-50 p-4">
      <p class="block antialiased font-sans text-base leading-relaxed font-normal text-blue-600">
        <strong class="text-green-500">+8%</strong>&nbsp;este mes
      </p>
    </div>
  </div>

  <!-- Espacio Almacenado -->
  <div class="relative flex flex-col bg-clip-border rounded-xl bg-white text-gray-700 shadow-md">
    <div class="bg-clip-border mx-4 rounded-xl overflow-hidden bg-gradient-to-tr from-yellow-600 to-yellow-400 text-white shadow-yellow-500/40 shadow-lg absolute -mt-4 grid h-16 w-16 place-items-center">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" class="w-6 h-6 text-white">
        <path d="M4 5a2 2 0 012-2h12a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm2 0v14h12V5H6zm3 6h6v2H9v-2z"></path>
      </svg>
    </div>
    <div class="p-4 text-right">
      <p class="block antialiased font-sans text-sm leading-normal font-normal text-blue-600">Espacio Usado</p>
      <h4 class="block antialiased tracking-normal font-sans text-2xl font-semibold leading-snug text-blue-900">75 GB / 100 GB</h4>
    </div>
    <div class="border-t border-blue-50 p-4">
      <p class="block antialiased font-sans text-base leading-relaxed font-normal text-blue-600">
        <strong class="text-red-500">75%</strong>&nbsp;del almacenamiento utilizado
      </p>
    </div>
  </div>
</div>
<!-- Buscador -->
<div class="container mx-auto p-4">
  <!-- Botón para mostrar/ocultar el área de carga -->
  <button
      (click)="subir()"
      class="bg-blue-500 hover:bg-yellow-500 text-white font-bold py-2 px-20 border border-blue-500 rounded block mx-auto mt-8 mb-8"
  >
      Subir Documento
  </button>

  <!-- Área de carga de archivos (oculta inicialmente) -->
  <div
      *ngIf="showUploadArea"
      class="flex w-full h-64 items-center justify-center bg-gray-100 rounded-lg shadow-md mb-8"
  >
      <label class="w-64 flex flex-col items-center px-4 py-6 bg-white text-blue rounded-lg shadow-lg tracking-wide uppercase border border-blue cursor-pointer hover:bg-blue">
          <svg class="w-8 h-8 hover:fill-current" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
              <path d="M16.88 9.1A4 4 0 0 1 16 17H5a5 5 0 0 1-1-9.9V7a3 3 0 0 1 4.52-2.59A4.98 4.98 0 0 1 17 8c0 .38-.04.74-.12 1.1zM11 11h3l-4-4-4 4h3v3h2v-3z" />
          </svg>
          <span class="mt-2 text-base leading-normal hover:text-blue-600">Seleccionar Archivo</span>
          <input type="file" class="hidden" (change)="onFileSelected($event)" />
      </label>
  </div>

  <div *ngIf="showUploadArea" class="mb-8">
    <button
     
        class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded block mx-auto mt-4"
    >
        Subir
    </button>
  </div>

  <!-- Barra de búsqueda -->
  <div class="relative w-80 mx-auto mb-2"> <!-- Cambiado de mb-4 a mb-2 -->
    <input type="text" [(ngModel)]="searchQuery" (input)="filterUsers()" placeholder="Buscar Nombre de Documento"
      class="w-full p-2 pl-10 border border-yellow-500 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" />
    <svg class="w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2 pointer-events-none"
      xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
        d="M21 21l-4.35-4.35m0 0A7.5 7.5 0 1010.5 18a7.5 7.5 0 006.15-3.35z" />
    </svg>
  </div>
</div>

<!-- Tabla de Documentos Recientes -->
<div class="mb-4 grid grid-cols-1 gap-6 xl:grid-cols-3">
  <div class="relative flex flex-col bg-clip-border rounded-xl bg-white text-gray-700 shadow-md overflow-hidden xl:col-span-3">
    <div class="relative bg-clip-border rounded-xl overflow-hidden bg-transparent text-gray-700 shadow-none m-0 flex items-center justify-between p-4"> <!-- Cambiado de p-6 a p-4 -->
      <div>
        <h6 class="block antialiased tracking-normal font-sans text-base font-semibold leading-relaxed text-blue-900 mb-1">Tus Documentos</h6>
        <p class="antialiased font-sans text-sm leading-normal flex items-center gap-1 font-normal text-blue-600">
          Últimos documentos subidos al repositorio
        </p>
      </div>
    </div>

    <!-- Tabla de documentos -->
    <table class="min-w-full border-collapse block md:table">
      <thead class="block md:table-header-group">
        <tr class="border border-yellow-500 md:border-none block md:table-row">
          <th class="bg-blue-600 p-2 text-white font-bold md:border md:border-yellow-500 text-left block md:table-cell">
            ID
          </th>
          <th class="bg-blue-600 p-2 text-white font-bold md:border md:border-yellow-500 text-left block md:table-cell">
            Privacidad
          </th>
          <th class="bg-blue-600 p-2 text-white font-bold md:border md:border-yellow-500 text-left block md:table-cell">
            Nombre de Documento
          </th>
          <th class="bg-blue-600 p-2 text-white font-bold md:border md:border-yellow-500 text-left block md:table-cell">
            Descripción de Documento
          </th>
          <th class="bg-blue-600 p-2 text-white font-bold md:border md:border-yellow-500 text-left block md:table-cell">
            Fecha que se Subido
          </th>
          <th class="bg-blue-600 p-2 text-white font-bold md:border md:border-yellow-500 text-left block md:table-cell">
            Acciones
          </th>
        </tr>
      </thead>

      <tbody class="block md:table-row-group">
        <tr *ngFor="let usuario of paginatedUsers; let i = index"
          [ngClass]="{ 'bg-yellow-100': i % 2 === 0, 'bg-white': i % 2 !== 0 }" class="border border-yellow-500 md:border-none block md:table-row">
          <td class="p-2 md:border md:border-yellow-500 text-left block md:table-cell">{{ usuario.ID_DOCUMENTO }}</td>
          <td class="p-2 md:border md:border-yellow-500 text-left block md:table-cell">
            <p *ngIf="usuario.ES_PUBLICO === 1; else privado">PÚBLICO</p>
            <ng-template #privado>
              <p>PRIVADO</p>
            </ng-template>
          </td>
          <td class="p-2 md:border md:border-yellow-500 text-left block md:table-cell">{{ usuario.NOMBRE }}</td>
          <td class="p-2 md:border md:border-yellow-500 text-left block md:table-cell">{{ usuario.DESCRIPCION }}</td>
          <td class="p-2 md:border md:border-yellow-500 text-left block md:table-cell">{{ usuario.FECHA_SUBIDA | formatDate }}</td>
          <td class="p-2 md:border md:border-yellow-500 text-left block md:table-cell">
            <div class="flex items-center gap-2"> 
              <button class="bg-blue-500 hover:bg-yellow-500 text-white font-bold py-1 px-2 border border-blue-500 rounded flex items-center"
              (click)="verArchivo(usuario.URL)">
                
                Ver
              </button>
              <button class="bg-green-500 hover:bg-yellow-500 text-white font-bold py-1 px-2 border border-green-500 rounded flex items-center"
              (click)="descargarArchivo(usuario.URl_DOW, usuario.NOMBRE)">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v2a2 2 0 002 2h12a2 2 0 002-2v-2m-4-4l-4 4m0 0l-4-4m4 4V4" />
                </svg>
              </button>
              <button class="bg-red-500 hover:bg-yellow-500 text-white font-bold py-1 px-2 border border-red-500 rounded flex items-center"
              (click)="eliminarDocumento(usuario.ID_DOCUMENTO)">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                </svg>
              </button>
            </div>
          </td>
        </tr>

        <!-- Mensaje si no hay documentos -->
        <tr *ngIf="filteredUsers.length === 0">
          <td colspan="7" class="p-4 text-center text-gray-600">No se han subido documentos.</td>
        </tr>
      </tbody>
    </table>

    <!-- Paginación -->
    <div class="flex justify-center items-center mt-4">
      <button (click)="changePage(currentPage - 1)" [disabled]="currentPage === 1"
        class="px-3 py-1 border rounded bg-gray-200 hover:bg-gray-300 disabled:opacity-50 mx-1">
        Anterior
      </button>
      <span class="px-3 py-1 border rounded bg-blue-500 text-white mx-1">
        Página {{ currentPage }} de {{ totalPages }}
      </span>
      <button (click)="changePage(currentPage + 1)" [disabled]="currentPage === totalPages"
        class="px-3 py-1 border rounded bg-gray-200 hover:bg-gray-300 disabled:opacity-50 mx-1">
        Siguiente
      </button>
    </div>
  </div>
</div>